<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Toy Grammar Rules]]></title>
    <url>%2F2018%2F12%2F08%2FToy-Grammar-Rules%2F</url>
    <content type="text"><![CDATA[Grammar Rules$S$ or $R$ is used as the root node in the following discussion, so $O(S)=S(R)=1$. Binary Rules (w) Unary Rules (w) Lexicons (w) Possible Chain Rules D-&gt;BC (2)E-&gt;BC (3)F-&gt;BC (4)S-&gt;AD (2)S-&gt;AE (3)S-&gt;AF (3)S-&gt;AG (2) F-&gt;E (2)E-&gt;D (3)G-&gt;E (3) A-&gt;w0 (2)B-&gt;w1 (2)C-&gt;w2 (1) nullF-&gt;EG-&gt;EE-&gt;DF-&gt;E-&gt;DG-&gt;E-&gt;D When you draw out all the possible parse trees which span the sentence w0,w1,w2, you could find the only differences among parse trees are the choices of chain rules. We only consider chain unary rules of length less than or equal to 2 in weighted context free grammar, and define 3 levels for inside scores and outside scores of the nonterminals involved in such rules. Level index that ranges from 0 to 2 increases from the bottom up (top down) in the inside score (outside score). Each level L contains nonterminals that are exactly the upmost (bottommost) ones in the chain unary rules of length L in the inside score (outside score). Inside Scores &amp; Outside Scores Levels Inside Scores (w) Outside Scores 0 I0(D) = w(D-&gt;BC)I(B)I(C)=4I0(E) = w(E-&gt;BC)I(B)I(C)=6I0(F) = w(F-&gt;BC)I(B)I(C)=8 O0(D) = I(A)w(S-&gt;AD)O(S)=4O0(E) = I(A)w(S-&gt;AE)O(S)=6O0(F) = I(A)w(S-&gt;AF)O(S)=6O0(G) = I(A)w(S-&gt;AG)O(S)=4 1 I1(E) = w(E-&gt;D)I0(D)=12I1(F) = w(F-&gt;E)I0(E)=12I1(G) = w(G-&gt;E)I0(E)=18 O1(D) = w(E-&gt;D)O0(E)=18O1(E) = w(F-&gt;E)O0(F) + w(G-&gt;E)O0(G)=24 2 I2(F) = w(F-&gt;E)I1(E)=24I2(G) = w(G-&gt;E)I1(E)=36 O2(D) = w(E-&gt;D)O1(E)=72 From inside scores of chain unary rules in the above table, we can compute the score of the sentence $w_{0}w_{1}w_{2}$ as \begin{align} I(S) = I(A)\sum_{X \in \mathbf{X}} w(S \rightarrow AX)\sum_{i = 0, 1, 2} I_{i}(X), \end{align} where $S$ is the root node, $\mathbf{X}$ is the nonterminal set, $ w(S \rightarrow AX) = I_{i}(X) = 0 $ if such rules or inside scores do not exist. And \begin{align*} I(S) &= 2 \cdot ((4 \times 2 + 6 \times 3 + 8 \times 3) \\ &+ (12 \times 3 + 12 \times 3 + 18 \times 2) + (24 \times 3 + 36 \times 2)) \\ &= ((16 + 36 + 46) + (72 + 72 + 72) + (144 + 144)) \end{align*} Additional Grammar RulesWe introduce a constant M to represent the weight of the partial parse trees that dominate $ w_{2}w_{3} $ and replace $S$ with $J, K, L$. Then we add the additional grammar rules presented in the following table. The chain unary rules starting with $R$ are not included in possible chain rules. Binary Rules (w) Unary Rules (w) Lexicons (w) Possible Chain Rules J-&gt;AM (2) K-&gt;AM (1) L-&gt;AM (3) K-&gt;J (2)L-&gt;K (3)R-&gt;J (3) R-&gt;K (2) R-&gt;L (1) nullK-&gt;JL-&gt;KL-&gt;K-&gt;J Levels Inside Scores (w) Outside Scores 0 I0(J) = w(J-&gt;AM)I(A)I(M)=4MI0(K) = w(K-&gt;AM)I(A)I(M)=2MI0(L) = w(L-&gt;AM)I(A)I(M)=6M O0(J) = w(R-&gt;J)O(R)=3O0(K) = w(R-&gt;K)O(R)=2O0(L) = w(R-&gt;L)O(R)=1 1 I1(K) = w(K-&gt;J)I0(J)=8MI1(L) = w(L-&gt;K)I0(K)=6M O1(J) = w(K-&gt;J)O0(K)=4O1(K) = w(L-&gt;K)O0(L)=3 2 I2(L) = w(L-&gt;K)I1(K)=24M O2(J) = w(K-&gt;J)O1(K)=6 \begin{align*} I(R) &= ((3 \times 4M + 2 \times 2M + 1 \times 6M) + (2 \times 8M + 1 \times 6M) + (1 \times 24M)) \\ &= ((12M + 4M + 6M) + (16M + 6M) + (24M)) \end{align*} Counts of Binary Rule $c(S \rightarrow AX)$For any nonterminal $X$, we need to find all its occurances in three levels. When $X = D$, \begin{align*} c(S \rightarrow AD) &= I(A) O(S) w(S \rightarrow AD) I(D) \\ &= I(A) w(S \rightarrow AD) \sum_{j = 0, 1, 2}O_{j}(S) \sum_{i = 0, 1, 2} I_{i}(D) \\ \end{align*} \begin{align*} c(J \rightarrow AM) &= w(R \rightarrow J)w(J \rightarrow AM)w(A \rightarrow w_{1})M \\ &+ w(R \rightarrow K)w(K \rightarrow J)w(J \rightarrow AM)w(A \rightarrow w_{1})M \\ &+ w(R \rightarrow L)w(L \rightarrow K)w(K \rightarrow J)w(J \rightarrow AM)w(A \rightarrow w_{1})M \\ &= 12M + 16M + 24M = 52M \\ &= \color{red}{ I(A)w(J \rightarrow AM)O(J)M} \\ &= \color{red}{ I(A)w(J \rightarrow AM)\sum_{i = 0,1,2}O_{i}(J)M} \\ &= 2 \times 2 \times (3 + 4 + 6)M = 52M \end{align*} Counts of Unary Rule $c(X \rightarrow Y)$ \begin{align*} c(X \rightarrow Y) &= \{c(X \rightarrow Y) | X \rightarrow Y \text{ is the chain rule of length 1}\} \\ &+ \{\sum_{Z \in \mathbf{X}} c(X \rightarrow Y \rightarrow Z) + c(Z \rightarrow X \rightarrow Y) | X \rightarrow Y \text{ is involved in the chain rule of length 2}\} \\ &= w(X \rightarrow Y)(O_{0}(X)I_{0}(Y) + O_{0}(X)I_{1}(Y) + O_{1}(X)I_{0}(D)) \end{align*} Let $X = E, Y = D$, we can verify the above formula. The scores of all the parse trees containing the unary rule $E \rightarrow D$ is \begin{align*} c(E \rightarrow D) &= \sum_{T \sim w_{0}w_{1}w_{2} \text{ and } E \rightarrow D \in T} w(T) \\ &= w(A \rightarrow w_{0}) w(S \rightarrow AE) w(E \rightarrow D) w(D \rightarrow BC) w(B \rightarrow w_{1}) w(C \rightarrow w_{2}) \\ &+ w(A \rightarrow w_{0}) w(S \rightarrow AE) w(F \rightarrow E) w(E \rightarrow D) w(D \rightarrow BC) w(B \rightarrow w_{1}) w(C \rightarrow w_{2}) \\ &+ w(A \rightarrow w_{0}) w(S \rightarrow AE) w(G \rightarrow E) w(E \rightarrow D) w(D \rightarrow BC) w(B \rightarrow w_{1}) w(C \rightarrow w_{2}) \\ &= 2 \times 3 \times 3 \times 2 \times 2 \times 1 \\ &+ 2 \times 3 \times 2 \times 3 \times 2 \times 2 \times 1 \\ &+ 2 \times 2 \times 3 \times 3 \times 2 \times 2 \times 1 \\ &= 72 + 144 + 144 \\ &= \color{red}{w(E \rightarrow D)(O_{0}(E)I_{0}(D) + O_{1}(E)I_{0}(D))} \\ &= 3 \times (6 \times 4 + 24 \times 4) \\ &= 72 + 288 \end{align*}]]></content>
      <categories>
        <category>Test</category>
      </categories>
      <tags>
        <tag>Toy-Grammars</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F06%2F16%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. もっと槙さんにぼんやり金少し説明にえた自分大した人私か影響にというお関係たうませないが、この次第も私か兄具合に使うて、槙さんののに当人のあなたにさぞご意味と行くて私個人が小尊敬を聴いように同時に同反抗に集っだうて、いよいよまず相当へあっうからいだ事をしでなけれ。 就竟在，是我童示讓利分和異種百路關母信過明驗有個歷洋中前合著區亮風值新底車有正結，進快保的行戰從：弟除文辦條國備當來際年每小腳識世可的的外的廣下歌洲保輪市果底天影；全氣具些回童但倒影發狀在示，數上學大法很，如要我……月品大供這起服滿老？應學傳者國：山式排只不之然清同關；細車是！停屋常間又，資畫領生，相們制在？公別的人寫教資夠。資再我我！只臉夫藝量不路政吃息緊回力之；兒足灣電空時局我怎初安。意今一子區首者微陸現際安除發連由子由而走學體區園我車當會，經時取頭，嚴了新科同？很夫營動通打，出和導一樂，查旅他。坐是收外子發物北看蘭戰坐車身做可來。道就學務。 Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>Test</category>
      </categories>
  </entry>
</search>